package com.vah.mar.mar_29;

import java.util.*;

public class Main {
    public static void main(String[] args) {
        List<String> list = new ArrayList<>();
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("Рамамбахарамамбуру");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("омг");
        list.add("Дерьмо");
        list.add("Дерьмо");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("абракадабра");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ГогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");
        list.add("ЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯЯогаГогаГогаГогаГога");


        String s = countWords((list));
//        System.out.println(s);
    }

    private static String countWords(List<String> lines) {

        Map<String, Integer> countWord = new HashMap<>();
        for (String word : lines) {
            String s = word.toLowerCase();
            String[] s1 = s.split(" ");
            for (String w: s1){
                String s2 = w.replaceAll("\\P{L}+", "");
                if (countWord.containsKey(s2)) {
                    Integer count = countWord.get(s2);
                    count++;
                    countWord.put(s2, count);
                } else {
                    countWord.put(s2, 1);
                }
            }

        }

        Map<String, Integer> resultMap = new TreeMap<>();
        for (Map.Entry<String, Integer> omg : countWord.entrySet()) {
            String key = omg.getKey();
            Integer value = countWord.get(key);
            if (key.length() >= 4 && value >= 10) {
                resultMap.put(key, value);
            }
        }


        Set<Map.Entry<String, Integer>> entries = resultMap.entrySet();

        ArrayList<Map.Entry<String, Integer>> listOfEntries = new ArrayList<>(entries);
        Comparator<Map.Entry<String, Integer>> valueComparator = new Comparator<Map.Entry<String, Integer>>() {
            @Override
            public int compare(Map.Entry<String, Integer> e1, Map.Entry<String, Integer> e2) {
                int v1 = e1.getValue();
                int v2 = e2.getValue();
                return v2 - v1;
            }
        };

        Collections.sort(listOfEntries, valueComparator);
        LinkedHashMap<String, Integer> sortedByValue = new LinkedHashMap<String, Integer>(listOfEntries.size());
        for (Map.Entry<String, Integer> entry : listOfEntries) {
            sortedByValue.put(entry.getKey(), entry.getValue());
        }

        StringBuilder stringBuilder = new StringBuilder();

        for (Map.Entry<String, Integer> data : sortedByValue.entrySet()) {
            String key = data.getKey();
            Integer value = countWord.get(key);
            stringBuilder.append(key).append(" - ").append(value).append("\n");
        }

        System.out.println(stringBuilder.toString());


        return stringBuilder.toString();
    }


}
